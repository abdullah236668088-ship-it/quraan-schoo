"use strict";(self.webpackChunkquran_memorization_web=self.webpackChunkquran_memorization_web||[]).push([[605],{3605:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var t=a(5043),r=a(4973),n=a(6667),l=a(579);function i(){const[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)(""),[m,o]=(0,t.useState)(null),[h,g]=(0,t.useState)(!0),u=(0,t.useCallback)(async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i(!0),c("");try{let a;a=e?(0,n.P)((0,n.rJ)(r.db,"advertisements"),(0,n.My)("date","desc"),(0,n.AB)(3)):(0,n.P)((0,n.rJ)(r.db,"advertisements"),(0,n.My)("date","desc"),(0,n.HM)(m),(0,n.AB)(3));const t=await(0,n.GG)(a),l=t.docs.map(e=>({id:e.id,...e.data()}));o(t.docs[t.docs.length-1]),g(3===l.length),s(e?l:e=>[...e,...l])}catch(a){console.error("Error fetching advertisements:",a),c("\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a: "+a.message)}finally{i(!1)}},[m]);(0,t.useEffect)(()=>{u(!0)},[u]);return a&&0===e.length?(0,l.jsx)("p",{className:"loading-message",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a..."}):d?(0,l.jsx)("p",{className:"error-message",children:d}):(0,l.jsxs)("div",{className:"advertisements-page-container page-container",children:[(0,l.jsx)("h2",{className:"page-title",children:"\u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a"}),e.length>0?(0,l.jsx)("div",{className:"advertisements-grid",children:e.map(e=>(0,l.jsxs)("div",{className:"advertisement-card",children:[e.imageUrl?(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"advertisement-image",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/400x200/F0F0F0/333333?text=No+Image"}}):(0,l.jsx)("div",{className:"advertisement-image-placeholder",children:(0,l.jsx)("span",{className:"placeholder-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})}),(0,l.jsx)("h3",{className:"advertisement-title",children:e.title}),(0,l.jsx)("p",{className:"advertisement-description",children:e.description}),e.date&&e.date.seconds&&(0,l.jsxs)("p",{className:"advertisement-date",children:["\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",new Date(1e3*e.date.seconds).toLocaleDateString("ar-EG")]})]},e.id))}):(0,l.jsx)("p",{className:"no-advertisements-message",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u0639\u0644\u0627\u0646\u0627\u062a \u0644\u0639\u0631\u0636\u0647\u0627 \u062d\u0627\u0644\u064a\u064b\u0627."}),h&&(0,l.jsx)("button",{onClick:()=>{u(!1)},className:"load-more-button",disabled:a,children:a?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a"})]})}}}]);
//# sourceMappingURL=605.3a055c68.chunk.js.map